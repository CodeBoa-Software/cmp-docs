# Estimativa de Horas - Fase 1

**Projeto:** Casa M√£e Paulistana  
**Entrega:** Cadastro e Aprova√ß√£o (Fase 1)  
**Data de Entrega:** 10/11/2025  
**Data da Estimativa:** Outubro 2025  
**Vers√£o:** 2.0

---

## üìä Resumo Executivo

| Disciplina | Horas | % do Total | Complexidade |
|-----------|-------|------------|--------------|
| **1. An√°lise e Planejamento** | 25h | 10% | M√©dia |
| **2. Setup de Infraestrutura** | 23h | 9% | Alta |
| **3. Backend Development** | 66h | 27% | Alta |
| **4. Frontend Development** | 63h | 26% | M√©dia-Alta |
| **5. Integra√ß√£o e Testes** | 43h | 17% | Alta |
| **6. Documenta√ß√£o e Deploy** | 27h | 11% | Baixa-M√©dia |
| **TOTAL BASE** | **247h** | **100%** | |

### Margem de Conting√™ncia
```
Horas base: 247h
Margem para imprevistos (+5%): 12h
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL COM MARGEM: 259h
```

**Justificativa da margem:**
- Sistema de emails autom√°ticos requer testes extensivos
- Integra√ß√µes com servi√ßos de email podem ter desafios
- Sistema de bloqueio parametriz√°vel precisa de valida√ß√£o rigorosa
- Requisitos podem ser refinados durante desenvolvimento
- Testes em m√∫ltiplos dispositivos (mobile) requerem tempo adicional
- Ajustes de UX baseados em feedback
- Sistema de agendamento com prefer√™ncias adiciona complexidade

---

## ‚è±Ô∏è Detalhamento por Disciplina

### 1. An√°lise e Planejamento

| Atividade | Horas | Complexidade |
|-----------|-------|--------------|
| Refinamento de requisitos (3 sistemas) | 6h | M√©dia |
| Modelagem de dados (schema DB completo) | 3h | M√©dia |
| Desenho de arquitetura (multi-m√≥dulos) | 3h | M√©dia-Alta |
| Defini√ß√£o de APIs (contratos para 3 subsistemas) | 3h | M√©dia |
| Design do sistema de emails (templates + l√≥gica) | 4h | M√©dia |
| Planejamento de testes (3 fluxos principais) | 4h | M√©dia |
| Documenta√ß√£o t√©cnica inicial | 2h | Baixa |

**Subtotal:** 25h

**Justificativa:** Escopo expandido para 3 subsistemas principais (Formul√°rio P√∫blico, Revis√£o/Aprova√ß√£o, Agendamento) requer planejamento mais detalhado.

---

### 2. Setup de Infraestrutura

| Atividade | Horas | Complexidade |
|-----------|-------|--------------|
| Configura√ß√£o GCP (projeto, billing, IAM) | 4h | M√©dia |
| Setup Cloud Run (Frontend) | 1h | M√©dia |
| Setup Cloud Run (Backend) | 1h | M√©dia |
| Provisionamento Cloud SQL | 3h | Alta |
| Setup Cloud Storage (tempor√°rio para documentos) | 4h | M√©dia |
| Configura√ß√£o de servi√ßo de email (SendGrid/Gmail API) | 4h | Alta |
| Configura√ß√£o de secrets/env vars | 3h | Baixa |
| CI/CD b√°sico (GitHub Actions) | 3h | M√©dia-Alta |

**Subtotal:** 23h

**Justificativa da complexidade:** 
- Servi√ßo de email requer configura√ß√£o de autentica√ß√£o, templates, e testes
- Pol√≠ticas de exclus√£o autom√°tica de documentos requerem configura√ß√£o de lifecycle policies
- Sistema de storage tempor√°rio com seguran√ßa LGPD

---

### 3. Backend Development (.NET)

| Atividade | Horas | Complexidade |
|-----------|-------|--------------||
| Setup projeto .NET (estrutura, DI, config) | 2h | Baixa |
| Mapeamento do Dom√≠nio (Models, DTOs, mappings) | 3h | M√©dia |
| Configura√ß√£o EntityFramework | 3h | M√©dia |
| **Gerador de Protocolo N√£o-Sequencial (UUID)** | 1h | M√©dia |
| **Sistema de Contadores Parametriz√°veis** | 2h | M√©dia |
| **L√≥gica de Bloqueio do Formul√°rio** | 2h | M√©dia |
| Servi√ßo de valida√ß√£o (dados + arquivos) | 6h | M√©dia-Alta |
| Upload e armazenamento tempor√°rio de documentos | 6h | Alta |
| **Servi√ßo de Email (4 templates + l√≥gica de envio)** | 10h | **Alta** |
| **API de Aprova√ß√£o/Rejei√ß√£o com workflows** | 6h | Alta |
| **API de Agendamento de Triagem** | 5h | M√©dia-Alta |
| **Sistema de Prefer√™ncias e Busca de Hor√°rios** | 4h | M√©dia-Alta |
| Controllers e endpoints (CRUD completo) | 4h | M√©dia |
| Middleware de erros e logging | 4h | M√©dia |
| Testes automatizados | 8h | M√©dia |

**Subtotal:** 66h

**Justificativa da complexidade:**
- **Sistema de Protocolo:** Gera√ß√£o UUID v4 com formato customizado (CMP-YYYY-XXXX-XXXX), garantia de unicidade
- **Sistema de Emails:** 4 tipos diferentes de emails (confirma√ß√£o, aprova√ß√£o, rejei√ß√£o, agendamento) com templates HTML, l√≥gica de envio ass√≠ncrona, tratamento de erros
- **Bloqueio Parametriz√°vel:** Dois par√¢metros configur√°veis, l√≥gica de verifica√ß√£o em tempo real, mensagens contextuais
- **Exclus√£o de Documentos:** Implementa√ß√£o segura de exclus√£o permanente ap√≥s aprova√ß√£o/rejei√ß√£o, audit trail
- **Sistema de Aprova√ß√£o:** Workflows complexos com estados, valida√ß√µes, notifica√ß√µes, hist√≥rico
- **Agendamento:** Busca inteligente de hor√°rios baseada em prefer√™ncias, valida√ß√£o de disponibilidade
- Conformidade LGPD requer audit trail detalhado
- MediatR pattern: Commands/Queries com handlers dedicados

---

### 4. Frontend Development (React + Lovable)

| Atividade | Horas | Complexidade |
|-----------|-------|--------------|
| **Lovable AI - Formul√°rio P√∫blico em Chat** | 12h | M√©dia |
| **Migra√ß√£o/Ajustes do c√≥digo Lovable para API** | 8h | M√©dia |
| Upload de arquivos (mobile-friendly, preview, progresso) | 6h | Alta |
| **Sistema de Bloqueio (mensagem quando bloqueado)** | 2h | Baixa |
| **Tela: Revis√£o de Documentos Pendentes** | 4h | M√©dia |
| **Tela: Aprovados Aguardando Triagem** | 3h | Baixa-M√©dia |
| **Tela: Agendamento de Triagem** | 4h | M√©dia |
| Valida√ß√µes client-side | 4h | Baixa |
| Tratamento de erros e loading states | 4h | M√©dia |
| Responsividade e otimiza√ß√£o mobile | 6h | M√©dia |
| Testes E2E (Playwright - 3 fluxos principais) | 10h | M√©dia-Alta |

**Subtotal:** 63h

**Justificativa da complexidade:**
- **Lovable AI:** Uso do Lovable para gerar formul√°rio em formato de chat, economia de tempo no desenvolvimento inicial
- **3 Telas Administrativas:** Sistema interno completo (revis√£o, aprova√ß√£o, agendamento)
- **Upload Mobile-Friendly:** Captura de c√¢mera, galeria, drag-n-drop, preview de PDFs/imagens, valida√ß√£o de tamanho
- **Sistema de Bloqueio:** Interface responsiva que mostra mensagem clara quando bloqueado
- **Testes E2E:** 3 fluxos completos (cadastro p√∫blico, aprova√ß√£o/rejei√ß√£o, agendamento)

---

### 5. Integra√ß√£o e Testes

| Atividade | Horas | Complexidade |
|-----------|-------|--------------|
| Testes de integra√ß√£o (API + DB) | 8h | M√©dia |
| **Testes de sistema de emails (4 tipos)** | 6h | Alta |
| **Testes de bloqueio parametriz√°vel** | 4h | M√©dia |
| Testes de upload e exclus√£o de documentos | 6h | Alta |
| **Testes de workflow de aprova√ß√£o/rejei√ß√£o** | 4h | M√©dia-Alta |
| **Testes de agendamento e prefer√™ncias** | 3h | M√©dia |
| Testes em m√∫ltiplos dispositivos m√≥veis | 4h | Alta |
| Corre√ß√£o de bugs encontrados | 8h | Vari√°vel |

**Subtotal:** 43h

**Justificativa:** 
- Sistema de emails requer testes extensivos (envio correto, templates, erros)
- Upload e exclus√£o de documentos em diferentes cen√°rios
- Testes em Android, iOS, Desktop com diferentes navegadores
- Valida√ß√£o de workflows complexos de aprova√ß√£o/rejei√ß√£o
- Sistema de bloqueio precisa ser testado em diversos estados

---

### 6. Documenta√ß√£o e Deploy

| Atividade | Horas | Complexidade |
|-----------|-------|--------------|
| Documenta√ß√£o de API (OpenAPI/Swagger) | 5h | Baixa-M√©dia |
| **Documenta√ß√£o de templates de email** | 2h | Baixa |
| **Documenta√ß√£o de par√¢metros configur√°veis** | 2h | Baixa |
| README e guias de setup | 3h | Baixa |
| Documenta√ß√£o de deploy e runbooks | 4h | M√©dia |
| Deploy em ambiente de produ√ß√£o | 4h | M√©dia |
| Configura√ß√£o de monitoring e alertas | 3h | M√©dia |
| Handover e treinamento b√°sico da equipe | 4h | M√©dia |

**Subtotal:** 27h

**Justificativa:** Sistema mais complexo com 3 subsistemas requer documenta√ß√£o mais detalhada e treinamento mais extenso.

---

## üë• Perfis de Desenvolvedores Necess√°rios

### Full-Stack Developer (React + .NET)
- Respons√°vel por arquitetura e features cr√≠ticas
- Sistema de emails e notifica√ß√µes
- Setup de infraestrutura GCP
- Sistema de aprova√ß√£o e agendamento
- Code review
- Testes (unit√°rios, integra√ß√£o, E2E)
- Documenta√ß√£o t√©cnica
- Refinamentos e ajustes
- **100% do projeto = 247h**
- **Taxa hor√°ria sugerida:** R$ 200/h

---

## üéØ Distribui√ß√£o de Horas por Fase

### Fase 1: MVP Funcional (Formul√°rio + Aprova√ß√£o)

**Prazo:** 4 semanas

| Disciplina | Horas |
|-----------|-------|
| An√°lise e Planejamento | 18h |
| Setup de Infraestrutura | 18h |
| Backend Development | 42h |
| Frontend Development (Lovable + ajustes) | 40h |
| Integra√ß√£o e Testes | 28h |
| Documenta√ß√£o e Deploy | 18h |
| **TOTAL FASE 1** | **164h** |

**Entregas:**
- ‚úÖ Formul√°rio p√∫blico funcional (formato chat via Lovable)
- ‚úÖ Sistema de protocolo n√£o-sequencial
- ‚úÖ Upload de 4 documentos obrigat√≥rios (mobile-friendly)
- ‚úÖ Sistema de bloqueio parametriz√°vel
- ‚úÖ Emails autom√°ticos (confirma√ß√£o + aprova√ß√£o + rejei√ß√£o)
- ‚úÖ Tela de revis√£o e aprova√ß√£o de documentos
- ‚úÖ Exclus√£o autom√°tica de documentos
- ‚úÖ Backend completo (APIs + valida√ß√µes)
- ‚úÖ Deploy em ambiente de produ√ß√£o
- ‚úÖ Testes b√°sicos de funcionamento

---

### Fase 2: Sistema de Agendamento + Refinamento

**Prazo:** 2-3 semanas

| Disciplina | Horas |
|-----------|-------|
| An√°lise e Planejamento (agendamento) | 7h |
| Setup de Infraestrutura (ajustes) | 5h |
| Backend Development (agendamento + refinamentos) | 24h |
| Frontend Development (telas de agendamento + polimento) | 23h |
| Integra√ß√£o e Testes (completos) | 15h |
| Documenta√ß√£o e Deploy | 9h |
| **TOTAL FASE 2** | **83h** |

**Entregas:**
- ‚úÖ Tela: Aprovados Aguardando Triagem
- ‚úÖ Tela: Agendamento de Triagem
- ‚úÖ Sistema de prefer√™ncias e busca de hor√°rios
- ‚úÖ Email de confirma√ß√£o de agendamento
- ‚úÖ UX/UI polido (Shadcn/UI completo)
- ‚úÖ Valida√ß√µes completas (client + server)
- ‚úÖ Responsividade mobile perfeita
- ‚úÖ Testes automatizados completos (E2E + unit√°rios)
- ‚úÖ Monitoring e alertas configurados
- ‚úÖ Documenta√ß√£o completa
- ‚úÖ Handover com treinamento

---

## üí° Considera√ß√µes e Premissas

### Stack Tecnol√≥gica Definida
- **Frontend:** React + Vite + TypeScript + Shadcn/UI + Tailwind CSS (gerado via Lovable AI)
- **Backend:** .NET (ASP.NET Core) + Entity Framework + MediatR
- **Banco de Dados:** PostgreSQL (Cloud SQL)
- **Storage:** Cloud Storage (tempor√°rio, com lifecycle policies)
- **Email:** SendGrid ou Gmail API
- **Cloud:** Google Cloud Platform (GCP)
- **CI/CD:** GitHub Actions

### Premissas
- Equipe dedicada com experi√™ncia em React e .NET
- Acesso √†s credenciais GCP e servi√ßo de email
- Lovable AI dispon√≠vel para gera√ß√£o do formul√°rio inicial
- Requisitos est√°veis durante desenvolvimento
- Feedback do cliente dispon√≠vel entre fases
- Ambiente de desenvolvimento configurado

### Riscos que Podem Impactar Horas
- **Sistema de Emails:** Configura√ß√£o e testes podem aumentar em 10-20% se houver problemas de deliverability
- **Upload de arquivos em mobile:** Testes em m√∫ltiplos dispositivos podem adicionar 5-10h
- **Sistema de bloqueio:** Edge cases n√£o previstos podem adicionar 5-8h
- **Mudan√ßas de requisitos:** Cada mudan√ßa significativa pode adicionar 10-30h
- **Complexidade LGPD n√£o prevista:** Auditoria adicional pode adicionar 5-15h
- **Performance com alto volume:** Otimiza√ß√µes podem adicionar 10-20h
- **Integra√ß√£o Lovable:** Ajustes no c√≥digo gerado podem adicionar 5-10h

---

## üìÖ Cronograma Estimado

### Timeline Total: 6-7 semanas

```
Semana 1: An√°lise + Setup (36h)
‚îú‚îÄ Refinamento requisitos e arquitetura (18h)
‚îú‚îÄ Infraestrutura GCP completa (18h)
‚îî‚îÄ Setup projeto (Backend + Frontend)

Semana 2-3: Desenvolvimento Core (82h)
‚îú‚îÄ Backend APIs e integra√ß√µes (42h)
‚îú‚îÄ Frontend formul√°rio chat (Lovable) (40h)
‚îú‚îÄ Sistema de protocolo e emails
‚îî‚îÄ Upload de arquivos

Semana 4: Aprova√ß√£o + Testes + Deploy (46h)
‚îú‚îÄ Sistema de aprova√ß√£o/rejei√ß√£o (28h)
‚îú‚îÄ Testes integra√ß√£o
‚îî‚îÄ Deploy em PRODU√á√ÉO (18h)

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
FASE 1 COMPLETA - MVP EM PRODU√á√ÉO (4 semanas = 164h)

Semanas 5-7: Agendamento + Refinamento (83h)
‚îú‚îÄ Sistema de agendamento completo (7h + 24h)
‚îú‚îÄ Telas administrativas finais (23h)
‚îú‚îÄ Testes E2E extensivos (15h)
‚îî‚îÄ Documenta√ß√£o completa e handover (9h + 5h infra)

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
FASE 2 COMPLETA (2-3 semanas ap√≥s MVP = 83h)
```

---

## üìä Compara√ß√£o: Estimativa vs Realidade

### Checklist de Valida√ß√£o

Ao final do projeto, validar:

- [ ] Horas reais vs estimadas por disciplina
- [ ] Principais desvios e causas
- [ ] Precis√£o do uso de Lovable AI
- [ ] Performance do sistema de emails
- [ ] Testes em dispositivos m√≥veis
- [ ] Aprendizados para pr√≥ximas entregas
- [ ] Ajustes na precifica√ß√£o

### Meta de Precis√£o

```
Desvio aceit√°vel: ¬±5% (247h ¬± 12h)
Faixa esperada: 235h - 259h
Com margem inclu√≠da: at√© 259h
```

---

## üÜï Novos Componentes vs Estimativa Anterior

### Compara√ß√£o de Escopo

| Componente | Horas Anteriores | Horas Atuais | Delta |
|-----------|------------------|--------------|-------|
| **An√°lise e Planejamento** | 24h | 25h | +1h |
| **Setup de Infraestrutura** | 30h | 23h | -7h |
| **Backend Development** | 49h | 66h | +17h |
| **Frontend Development** | 29h | 63h | +34h |
| **Integra√ß√£o e Testes** | 24h | 43h | +19h |
| **Documenta√ß√£o e Deploy** | 20h | 27h | +7h |
| **TOTAL** | **176h** | **247h** | **+71h** |

### Principais Adi√ß√µes de Escopo (71h adicionais)

1. **Sistema de Protocolo N√£o-Sequencial:** +1h
2. **Sistema de Emails (4 tipos):** +10h (backend) + 6h (testes) + 4h (infra) = 20h
3. **Sistema de Bloqueio Parametriz√°vel:** +2h (backend) + 2h (frontend) + 4h (testes) = 8h
4. **Sistema de Aprova√ß√£o/Rejei√ß√£o:** +6h (backend) + 4h (frontend) + 4h (testes) = 14h
5. **Sistema de Agendamento:** +9h (backend) + 7h (frontend) + 3h (testes) = 19h
6. **Armazenamento Tempor√°rio de Documentos:** +4h (infra)
7. **Valida√ß√µes Expandidas:** +2h (frontend)
8. **Testes Adicionais em M√∫ltiplos Dispositivos:** +4h
9. **Documenta√ß√£o Expandida:** +7h

**Total de horas adicionais:** 71h (40% de aumento no escopo)

---

## üîó Refer√™ncias

- [Precifica√ß√£o do Projeto](./precificacao-projeto.md)
- [Requisitos Detalhados - Fase 1](./fase-1-cadastro-e-aprovacao.md)
- [Custos de Infraestrutura Mensal](./custos-infraestrutura-mensal.md)

---

**√öltima atualiza√ß√£o:** Outubro 2025  
**Respons√°vel:** CodeBoa Software  
**Status:** ‚úÖ Estimativa Completa - Fase 1 (Cadastro e Aprova√ß√£o)

